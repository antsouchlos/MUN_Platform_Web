<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="layout.css">
    <meta charset="UTF-8" content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    
    <title>MUN Platform</title>


    <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>
    <script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyDcn3o128Pc9_f2hta7p6vUQeVNlKb1KSI",
        authDomain: "dsa-mun-platform.firebaseapp.com",
        databaseURL: "https://dsa-mun-platform.firebaseio.com",
        storageBucket: "dsa-mun-platform.appspot.com",
    };
    firebase.initializeApp(config);
    </script>
    
    
    <script>
        function file_chosen() {
            if (document.getElementById("fileChooser").value == "") {
                alert("You must choose a file to upload");
            } else {
                var progressBar = document.getElementById("progressBar");
                var progress = document.getElementById("progress");

                progressBar.style.visibility="visible";
                progress.style.visibility="visible";

                var width = 1;
                var id = setInterval(frame, 10);

                function frame() {
                    if (width >= 100) {
                        clearInterval(id);
                        alert("File uploaded successfully: " + document.getElementById("fileChooser").value);
                    } else {
                        width++; 
                        progress.style.width = width + '%'; 
                        document.getElementById("progressLabel").innerHTML = width + '%';
                    }
                }
            }
        }
        
        function init() {
            var progressBar = document.getElementById("progressBar");
            var progress = document.getElementById("progress");
            
            progressBar.style.visibility="hidden";
            progress.style.visibility="hidden"; 
        }
        
        window.onload = init;
    </script>
</head>

<body>
  <div id="wrapper" class="card">
        <div id="header">
            <h1>MUN Platform</h1>
            <h4>The official MUN Platform website</h4>
        </div>

        <div id="content">
            <input type="file" id="fileChooser"/>
            <br>
            <button id="uploadBtn" onclick="file_chosen()">Upload file</button>

            <div id="progressBar">
                <div id="progress">
                    <div id="progressLabel">0%</div>
                </div>
            </div>
        </div>

        <div id="footer">
            <hr>
            Created Dimitris Peppas, Andreas Tsouchlos 2016
        </div>
    </div>
</body>
</html>